<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMART Rewards - ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏ï‡πâ‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</title>
    <meta name="description" content="‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ï‡πâ‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÅ‡∏•‡∏∞‡πÅ‡∏•‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Login Modal -->
    <div id="loginModal" class="modal active">
        <div class="modal-content">
            <div class="login-header">
                <div class="logo">üéÅ SMART<br><span>Rewards</span></div>
                <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ï‡πâ‡∏°‡∏£‡∏µ‡∏ß‡∏≠‡∏£‡πå‡∏î</p>
            </div>

            <!-- Loading Indicator -->
            <div id="loadingIndicator" style="text-align: center; padding: 20px;">
                <div style="font-size: 24px; margin-bottom: 10px;">‚è≥</div>
                <div>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</div>
            </div>

            <form id="loginForm" style="display: none;">
                <div class="form-group">
                    <label>‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</label>
                    <input type="text" id="employeeId" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô" required>
                </div>
                <div class="form-group">
                    <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                    <input type="password" id="password" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" required>
                </div>
                <div id="loginError" class="login-error"></div>
                <button type="submit" class="btn btn-primary">‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö</button>
            </form>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="appContainer" class="app-container hidden">
        <!-- Navigation Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">üéÅ</span>
                    <span class="logo-text">SMART Rewards</span>
                </div>
                <nav class="nav-menu">
                    <button class="nav-btn active" data-view="dashboard">
                        <span class="icon">üìä</span>
                        <span>Dashboard</span>
                    </button>
                    <button class="nav-btn" data-view="rewards">
                        <span class="icon">üéÅ</span>
                        <span>Rewards</span>
                    </button>
                    <button class="nav-btn manager-only" data-view="allocate" style="display: none;">
                        <span class="icon">‚≠ê</span>
                        <span>‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
                    </button>
                    <button class="nav-btn" data-view="history">
                        <span class="icon">üìú</span>
                        <span>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</span>
                    </button>
                </nav>
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">üë§</div>
                    <div class="user-details">
                        <div class="user-name" id="userName">User</div>
                        <div class="user-role" id="userRole">Employee</div>
                    </div>
                    <button class="logout-btn" onclick="logout()">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard View -->
            <section id="dashboardView" class="view active">
                <div class="dashboard-grid">
                    <!-- Points Card -->
                    <div class="card points-card">
                        <div class="card-header">
                            <h2>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
                            <span class="icon">üíé</span>
                        </div>
                        <div class="points-display">
                            <div class="points-value" id="currentPoints">0</div>
                            <div class="points-label">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                        </div>
                        <div class="tier-badge" id="tierBadge">
                            <span class="tier-icon">üåü</span>
                            <span class="tier-name">Bronze Member</span>
                        </div>
                    </div>

                    <!-- Stats Cards -->
                    <div class="card stats-card">
                        <div class="stat-item">
                            <div class="stat-icon">üìà</div>
                            <div class="stat-content">
                                <div class="stat-value" id="totalEarned">0</div>
                                <div class="stat-label">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                            </div>
                        </div>
                    </div>

                    <div class="card stats-card">
                        <div class="stat-item">
                            <div class="stat-icon">üéØ</div>
                            <div class="stat-content">
                                <div class="stat-value" id="totalRedeemed">0</div>
                                <div class="stat-label">‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏Å</div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="card activity-card">
                        <div class="card-header">
                            <h3>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h3>
                        </div>
                        <div class="activity-list" id="recentActivity">
                            <div class="empty-state">
                                <span class="empty-icon">üì≠</span>
                                <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Rewards Catalog View -->
            <section id="rewardsView" class="view">
                <div class="view-header">
                    <h2>‡πÅ‡∏Ñ‡∏ï‡∏ï‡∏≤‡∏•‡πá‡∏≠‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</h2>
                    <div class="filter-controls">
                        <select id="categoryFilter" class="filter-select">
                            <option value="all">‡∏ó‡∏∏‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</option>
                            <option value="electronics">‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå</option>
                            <option value="giftcard">‡∏ö‡∏±‡∏ï‡∏£‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç</option>
                            <option value="experience">‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå</option>
                            <option value="lifestyle">‡πÑ‡∏•‡∏ü‡πå‡∏™‡πÑ‡∏ï‡∏•‡πå</option>
                        </select>
                        <select id="sortFilter" class="filter-select">
                            <option value="default">‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</option>
                            <option value="low">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ô‡πâ‡∏≠‡∏¢ - ‡∏°‡∏≤‡∏Å</option>
                            <option value="high">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏°‡∏≤‡∏Å - ‡∏ô‡πâ‡∏≠‡∏¢</option>
                        </select>
                    </div>
                </div>
                <div class="rewards-grid" id="rewardsGrid">
                    <!-- Rewards will be dynamically inserted here -->
                </div>
            </section>

            <!-- Allocate Points View (Manager Only) -->
            <section id="allocateView" class="view manager-only" style="display: none;">
                <div class="view-header">
                    <h2>‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h2>
                </div>

                <div class="allocate-container">
                    <div class="card allocation-form-card">
                        <h3>‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h3>
                        <form id="allocationForm" class="allocation-form">
                            <div class="form-group">
                                <label for="employeeSelect">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô *</label>
                                <select id="employeeSelect" required>
                                    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô --</option>
                                </select>
                                <div class="allocation-info" id="allocationInfo"></div>
                            </div>

                            <div class="form-group">
                                <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</label>
                                <div class="points-fixed">
                                    <span class="points-badge">1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
                                    <p class="points-note">‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡∏•‡∏∞ 1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ï‡πà‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á</p>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="reasonInput">‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• (‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ 10 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£) *</label>
                                <textarea id="reasonInput" rows="4" minlength="10" required
                                    placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô..."></textarea>
                                <div class="char-count"><span id="charCount">0</span>/10 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£</div>
                            </div>

                            <div class="form-group">
                                <label>SMART Culture Value *</label>
                                <div class="smart-values">
                                    <label class="smart-option">
                                        <input type="radio" name="smartValue" value="S" required>
                                        <div class="smart-card">
                                            <div class="smart-letter">S</div>
                                            <div class="smart-title">Spirit of Commitment</div>
                                            <div class="smart-desc">
                                                ‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏ï‡∏¢‡πå‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏°‡∏≠‡∏ö‡∏á‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏ï‡∏Å‡∏•‡∏á</div>
                                        </div>
                                    </label>
                                    <label class="smart-option">
                                        <input type="radio" name="smartValue" value="M" required>
                                        <div class="smart-card">
                                            <div class="smart-letter">M</div>
                                            <div class="smart-title">Mastery of Learning</div>
                                            <div class="smart-desc">‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏´‡∏°‡πà‡πÜ ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ</div>
                                        </div>
                                    </label>
                                    <label class="smart-option">
                                        <input type="radio" name="smartValue" value="A" required>
                                        <div class="smart-card">
                                            <div class="smart-letter">A</div>
                                            <div class="smart-title">Agility</div>
                                            <div class="smart-desc">‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏´‡∏°‡πà ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°
                                            </div>
                                        </div>
                                    </label>
                                    <label class="smart-option">
                                        <input type="radio" name="smartValue" value="R" required>
                                        <div class="smart-card">
                                            <div class="smart-letter">R</div>
                                            <div class="smart-title">Respect Others</div>
                                            <div class="smart-desc">‡∏Å‡∏≤‡∏£‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏à‡∏£‡∏±‡∏ö‡∏ü‡∏±‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô
                                            </div>
                                        </div>
                                    </label>
                                    <label class="smart-option">
                                        <input type="radio" name="smartValue" value="T" required>
                                        <div class="smart-card">
                                            <div class="smart-letter">T</div>
                                            <div class="smart-title">Think Customers</div>
                                            <div class="smart-desc">‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</div>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <button type="submit" class="btn-primary">‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</button>
                        </form>
                    </div>

                    <div class="card allocation-history-card">
                        <h3>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h3>
                        <div class="allocation-filters">
                            <input type="text" id="searchAllocation" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...">
                            <select id="filterMonth" class="filter-select">
                                <option value="current">‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</option>
                                <option value="all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                            </select>
                        </div>
                        <div class="allocation-list" id="allocationHistory">
                            <div class="empty-state">
                                <span class="empty-icon">üìã</span>
                                <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- History View -->
            <section id="historyView" class="view">
                <div class="view-header">
                    <h2>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</h2>
                    <div class="filter-controls">
                        <select id="historyFilter" class="filter-select">
                            <option value="all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                            <option value="earned">‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</option>
                            <option value="redeemed">‡πÅ‡∏•‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</option>
                        </select>
                    </div>
                </div>
                <div class="history-list" id="historyList">
                    <div class="empty-state">
                        <span class="empty-icon">üìú</span>
                        <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Redemption Modal -->
    <div id="redemptionModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeRedemptionModal()">&times;</button>
            <div class="modal-header">
                <h2>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</h2>
            </div>
            <div class="modal-body" id="redemptionModalBody">
                <!-- Content will be inserted dynamically -->
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="toast"></div>

    <!-- Supabase Client Library -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.0/dist/umd/supabase.min.js"></script>

    <script src="app.js"></script>
</body>

</html>